nodes:
  - id: "welcome"
    type: Base
    version: 3.5.0
    start:
      message_command:
      slash_command:
    callbacks:
      - send_response:
          content: Welcome to the Testing Quiz!
          components:
            - custom_id: begin
              label: begin?
            - custom_id: stop
              label: no.
    events:
      button_click:
        filters:
         - clicked_this_menu
        schedule_close: node
        transitions:
          - node_names: question1
            session_chaining: start
            transition_filters:
              - button_is: begin
            transition_callbacks:
              - session_link_user
              - clear_buttons

  - id: question1
    type: Base
    version: 3.5.0
    close_callbacks:
      - remove_message
    callbacks:
      - send_response:
          content: "Please note if you do not finish you will need to restart. Choice 1:"
          components:
            - label: "sneep"
              custom_id: "sneep"
            - label: "snorp"
              custom_id: "snorp"
            - label: "help"
              custom_id: "help1"
    events:
      button_click:
        filters:
         - clicked_this_menu
         - is_session_user
        transitions:
          - node_names: question2
            session_chaining: chain
            schedule_close: node
            transition_filters:
              - button_is: [sneep, snorp]
            transition_callbacks:
              - save_quiz_answer
          - node_names: help1
            session_chaining: chain
            transition_filters:
              - button_is: help1

  - id: question2
    type: Base
    version: 3.5.0
    close_callbacks:
      - remove_message
    callbacks:
      - send_response:
          content: "ok choice 2, ahajdljigrijrgjlihlthljthlj"
          components:
            - label: "bee"
              custom_id: "bee"
            - label: "bean"
              custom_id: "bean"
            - label: "help"
              custom_id: "help2"
    events:
      button_click:
        filters:
          - clicked_this_menu
          - is_session_user
        transitions:
          - node_names: finishing
            session_chaining: chain
            schedule_close: node
            transition_filters:
              - button_is: [bee, bean]
            transition_callbacks:
              - save_quiz_answer
          - node_names: help2
            session_chaining: chain
            transition_filters:
              - button_is: help2

  - id: finishing
    type: Base
    version: 3.5.0
    close_callbacks:
      - remove_message
    callbacks:
      - report_quiz_answers
      
  - id: help1
    type: Base
    version: 3.5.0
    close_callbacks:
      - remove_message
    callbacks:
      - send_response:
          content: "Yes, make a choice"
  - id: help2
    type: Base
    version: 3.5.0
    close_callbacks:
      - remove_message
    callbacks:
      - send_response:
          content: "pls save"